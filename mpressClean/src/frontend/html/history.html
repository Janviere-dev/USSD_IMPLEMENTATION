<!--
MoMo Press transaction history page

Includes:
    - header
    - search bar above summary cards
    - summary
    - transaction list
    - footer
    - modal settings panel
    - dark mode toggle
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MoMo Press - History</title>
    <!-- external CSS -->
    <link rel="stylesheet" href="../css/history.css" />
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
</head>
<body>
<div class="app-bg">
    <div class="app-container">

        <!-- header with brand and settings -->
        <div class="top-header">
            <div class="brand-label">m-press</div>
            <button class="settings-btn" id="settings-btn" aria-label="Settings">
                <i class="fa-solid fa-cog"></i>
            </button>
        </div>

        <div class="app-content-wrapper">
            <!-- title row with screen name and download button -->
            <div class="title-row">
                <div class="title-text-group">
                    <div class="screen-indicator active">Transactions</div>
                    <div class="sub-title-text"><small>All your MoMo Press activity</small></div>
                </div>
                <button class="download-btn" id="download-btn">
                    <i class="fa-solid fa-download"></i> Download Statement
                </button>
            </div>

            <!-- search bar -->
            <div class="searchbar-wrap">
                <i class="fa fa-search searchbar-icon"></i>
                <label for="search"></label><input class="searchbar" id="search" placeholder="Search transactions..." />
            </div>

            <!-- summary cards for received and sent -->
            <div class="summary-row">
                <div class="summary-card summary-received">
                    <span class="summary-label">Received</span>
                    <div class="summary-amount" id="total-received">RWF 0</div>
                </div>
                <div class="summary-card summary-sent">
                    <span class="summary-label">Sent</span>
                    <div class="summary-amount" id="total-sent">RWF 0</div>
                </div>
            </div>

            <!-- transaction list -->
            <div class="transactions-list" id="transactions-list"></div>

            <!-- bottom navigation for interacting with screens -->
            <nav class="bottom-nav">
                <a href="home.html" class="bottom-nav-link inactive">
                    <i class="fa-solid fa-house"></i>
                    <span><small>Home</small></span>
                </a>
                <a href="send.html" class="bottom-nav-link inactive">
                    <i class="fa-solid fa-paper-plane"></i>
                    <span><small>Send</small></span>
                </a>
                <a href="spending.html" class="bottom-nav-link inactive">
                    <i class="fa-solid fa-chart-pie"></i>
                    <span><small>Spending</small></span>
                </a>
                <a href="history.html" class="bottom-nav-link active-nav active">
                    <i class="fa-solid fa-clock-rotate-left"></i>
                    <span><small>History</small></span>
                </a>
            </nav>
        </div>

        <!-- settings modal overlay and panel -->
        <div class="settings-backdrop" id="settings-backdrop" style="display:none"></div>
        <div class="settings-modal" id="settings-modal" style="display:none">
            <div class="settings-header">
                <span>Settings</span>
                <button id="close-settings" class="close-settings-btn" aria-label="Close">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            <div class="settings-body">
                <div class="feature-group">
                    <div class="feature-title">Spending Breakdown</div>
                    <label class="switch">
                        <input type="checkbox" id="spending-toggle" checked>
                        <span class="slider round"></span>
                    </label>
                    <div class="feature-description">Show detailed category spending analysis</div>
                </div>
                <div class="feature-group">
                    <div class="feature-title">Dark Mode</div>
                    <label class="switch">
                        <input type="checkbox" id="theme-toggle" aria-label="Toggle Dark Mode" />
                        <span class="slider round"></span>
                    </label>
                    <div class="feature-description">Switch to dark theme</div>
                </div>
                <button id="logout-btn" class="logout-btn">
                    <i class="fa-solid fa-right-from-bracket"></i> Log out
                </button>
                <div class="about-mo-mo">MoMo Press v1.0<br><span class="about-desc">Track your MoMo spending and manage your finances</span></div>
            </div>
        </div>

    </div>
</div>
<script src="js/database.js"></script>
<script src="js/history.js"></script>
</body>
</html>

